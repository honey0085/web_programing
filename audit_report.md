# 감사보고서 (Audit Report)

대상: 반응속도 테스트 웹앱 (`index.html`)
작성자: 시니어 엔지니어(감사)
작성일: 2025-12-16

---

## 1. 감사 개요
- 감사 범위: 기능 완전성, 코드 품질, 신뢰성(측정 정확도), 보안·프라이버시, 문서화
- 감사 목적: 제품의 신뢰성 확보 및 배포 전 필수 개선사항 도출

---

## 2. 요약 결과
- 기능 완전성: 합격 — 의도한 플로우(3회 측정→평균/최고기록 표시) 정상 동작
- 코드 품질: 보통 — 단일 파일에 UI/로직이 결합되어 유지보수성·테스트성 저하
- 신뢰성(측정): 개선 권고 — `Date.now()` 사용으로 환경별 미세 오차 발생 가능
- 보안·프라이버시: 저위험이나 인라인 스크립트로 인해 CSP 적용에 제약
- 문서화·프로세스: 기본 문서 존재(README, 보고서, 리더 평가) — Decision Log 및 프롬프트 버전관리는 미비

---

## 3. 주요 위험 및 취약점
1. 측정 정확도(중요)
   - 현 상태: `Date.now()` 사용
   - 영향: 환경(브라우저/OS)에 따른 시간 해상도 차이로 미세한 결과 차이 발생
   - 권고: `performance.now()`로 전환 후 오차 측정

2. 인라인 스크립트(CSP 미적용 위험)
   - 현 상태: `index.html` 내 인라인 JS
   - 영향: CSP(Content Security Policy) 적용 시 인라인 스크립트 허용이 필요하므로 보안 설정 복잡성 증가
   - 권고: JS를 별도 파일(`app.js`)로 분리하고 CSP 적용

3. 테스트 자동화 부족(중요)
   - 현 상태: 수동 테스트만 존재
   - 영향: 기능 변경 시 회귀 발견 지연
   - 권고: Playwright/Puppeteer 기반 E2E 스크립트 작성

4. localStorage 데이터 무결성(중)
   - 현 상태: `bestRecord`를 문자열로 저장/읽기 — 파싱·검증 로직 미흡
   - 권고: 저장 전 숫자 검증, 읽기 시 유효성 검사

---

## 4. 권고 조치(우선순위)
### 즉시(0–3일)
- `Date.now()` → `performance.now()` 전환
- `bestRecord` 저장/로딩 시 타입·범위 검증 추가
- JS 분리(인라인 제거) — CSP 적용 용이성 확보

### 단기(3–14일)
- E2E 테스트 3개 시나리오 자동화(조급 클릭, 정상 3회, 세션 재시작)
- 정적 분석(ESLint) 적용 및 코드 스타일 정립

### 중기(2–6주)
- CI 연동(E2E 포함), 릴리스 체크리스트 작성
- 데이터 저장 옵션(서버/CSV) 설계 — 민감 데이터 없음, 그러나 무결성 보장 필수

---

## 5. 결론
- 결과: 기능적으로 양호한 MVP. 그러나 신뢰성(측정 정밀도)과 유지보수성(코드 분리, 테스트 자동화) 문제가 향후 확장·운영에 리스크를 초래할 수 있음.
- 권고 우선순위: 1) 고해상도 타이머 적용, 2) JS 분리 및 CSP 준비, 3) 테스트 자동화 도입

---

## 6. 부록: 기술 심볼/파일 참조
- 동작 코드: `index.html` (주요 함수: `startGame`, `handleClick`, `finishSession`)
- 문서: `README.md`, `보고서`, `leader_evaluation.md`

필요 시, 권고 조치(특히 고해상도 타이머 적용 및 JS 분리)에 대한 실제 코드 패치와 테스트 스크립트를 생성해 드리겠습니다.
